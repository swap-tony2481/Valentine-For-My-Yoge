<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Will You Be My Valentine?</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .valentine-page { display:flex; align-items:center; justify-content:center; min-height:80vh; padding:40px; }
        .valentine-card { background: rgba(255,255,255,0.9); border-radius:16px; padding:32px; text-align:center; max-width:700px; width:100%; box-shadow:0 8px 30px rgba(0,0,0,0.15); }
        .valentine-card h1 { font-size:2.2rem; margin-bottom:12px; }
        .valentine-card p { margin-bottom:20px; color:#444; }
        .buttons-wrapper { position:relative; height:160px; margin-top:10px; }
        .btn-yes, .btn-no { padding:14px 24px; font-size:1.05rem; border-radius:8px; cursor:pointer; border:none; }
        .btn-yes { background:#e84393; color:white; margin-right:12px; }
        .btn-no { position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); background:#cccccc; }
        .answer-modal { position:fixed; left:0; top:0; right:0; bottom:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.5); }
        .answer-modal .modal-content { background:white; padding:24px; border-radius:12px; text-align:center; max-width:90%; }
        .hidden { display:none !important; }
    </style>
</head>
<body>
    <!-- Navigation removed for Valentine landing page -->

    <div class="valentine-page">
        <div class="valentine-card">
            <h1>Will you be my Valentine?</h1>
            <p>Choose wisely... ‚ù§Ô∏è</p>

            <div class="buttons-wrapper" id="btnWrapper">
                <button id="yesBtn" class="btn-yes">Yes, always üíñ</button>
                <button id="noBtn" class="btn-no">No</button>
            </div>

            <!-- song section removed from front page -->

            <div id="answer-modal" class="answer-modal hidden">
                <div class="modal-content">
                    <h2>Yay! üíï</h2>
                    <p>I'm so happy ‚Äî I love you more than words can say.</p>
                    <button onclick="document.getElementById('answer-modal').classList.add('hidden')" class="btn btn-close">Close</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const noBtn = document.getElementById('noBtn');
            const yesBtn = document.getElementById('yesBtn');
            const wrapper = document.getElementById('btnWrapper');

            function moveNoButton() {
                const wrapRect = wrapper.getBoundingClientRect();
                const btnRect = noBtn.getBoundingClientRect();
                const maxX = Math.max(0, wrapRect.width - btnRect.width);
                const maxY = Math.max(0, wrapRect.height - btnRect.height);

                const x = Math.random() * maxX;
                const y = Math.random() * maxY;

                noBtn.style.transform = `translate(${x}px, ${y}px)`;
            }

            // Move when mouse approaches or tries to click
            noBtn.addEventListener('mouseenter', moveNoButton);
            noBtn.addEventListener('click', function(e){ e.preventDefault(); moveNoButton(); });

            // Prevent focus/keyboard selection of No
            noBtn.addEventListener('focus', function(){ moveNoButton(); noBtn.blur(); });

            // Also move occasionally so it's extra sneaky
            setInterval(moveNoButton, 2500);

            yesBtn.addEventListener('click', function(){
                // Mark that the user accepted so the home page can autoplay the song
                try { localStorage.setItem('valentine_play_on_home', '1'); } catch(e){}
                // If audio on this page is present, play it as an immediate feedback
                const audio = document.getElementById('valentine-audio');
                if (audio) {
                    audio.play().catch(()=>{});
                }
                // Navigate to the main site (previous homepage)
                window.location.href = 'home.html';
            });

            // song controls removed from front page
        });
    </script>
    <script src="script.js"></script>
</body>
</html>
